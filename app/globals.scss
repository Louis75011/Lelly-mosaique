// app\globals.scss
@import "../styles/tokens.scss";

:root{
  --blue-900:#071c29;
  --blue-800:#0b2740;
  --blue-700:#163a5a;

  --bottombar-h: 64px;
  --sidebar-w: 240px;
  --topbar-h: 64px; /* hauteur barre haute en tablette/mobile */
}

/* Reset léger */
* { box-sizing: border-box; }
html, body { height: 100%; }
body.app-body {
  margin: 0;
  color: var(--ink-900);
  background: var(--sand-100);
  font-family: var(--font-sans);
  line-height: 1.5;
}

/* Titres en sérif */
h1,h2,h3 { font-family: var(--font-serif); color: var(--ink-900); margin: 0 0 .75rem; }
h1 { font-size: clamp(28px, 5vw, 44px); }
h2 { font-size: clamp(22px, 3.2vw, 28px); color: var(--blue-800); }

a { color: var(--brand); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Conteneur principal */
.container { width: 100%; max-width: var(--container); margin: 0 auto; padding: 0 20px; }

/* Grilles */
.grid-2 { display: grid; grid-template-columns: 1.1fr .9fr; gap: var(--gap); }
@media (max-width: 980px) { .grid-2 { grid-template-columns: 1fr; } }

/* Cartes communes */
.card {
  background: #fff;
  border-radius: var(--radius-2);
  box-shadow: var(--shadow-1);
  padding: 18px 20px;
}
.card.elevated { box-shadow: var(--shadow-2); }

/* Boutons */
.btn {
  display: inline-flex; align-items: center; gap: 10px;
  border: 0; cursor: pointer; font-weight: 600;
  padding: 12px 18px; border-radius: 10px;
  background: var(--green-700); color: #fff;
}
.btn:hover { filter: brightness(1.05); }
.btn:disabled { opacity: .6; cursor: not-allowed; }

/* Inputs */
input, textarea {
  width: 100%; padding: 10px 12px; border-radius: 8px;
  border: 1px solid #ddd; background: #fff; font: inherit;
}
label { display: block; font-weight: 600; margin: 10px 0 6px; }

/* Hero générique */
.hero {
  background: linear-gradient(180deg, var(--green-700), var(--green-900));
  color: #fff; padding: 64px 0 90px;
}
.hero .title { text-align: center; }
.hero .title .icon {
  width: 36px; height: 36px; margin: 0 auto 10px; display: block; color: #fff;
}
.hero .subtitle { opacity:.9; text-align: center; max-width: 720px; margin: 8px auto 0; }

/* Section fond sable clair sous hero */
.section {
  background: var(--sand-100);
  padding: 24px 0 80px;
}

/* Sidebar (si votre layout en a une) */
.sidebar {
  width: 220px; padding: 24px 16px; background: #fff; border-right: 1px solid #eee;
}
.sidebar a {
  display: block; padding: 10px 12px; border-radius: 8px; color: var(--ink-700);
}
.sidebar a[aria-current="page"], .sidebar a.active {
  background: var(--sand-200); color: var(--ink-900); font-weight: 700;
}

/* Utilitaire icône inline */
.icon { display:inline-block; vertical-align:middle; }

// Grille responsive
/* Shell layout global */
.shell {
  display: grid;
  grid-template-columns: var(--sidebar-w) 1fr;
  min-height: 100svh;
}
.content { min-width: 0; } /* évite overflow des grilles internes */

/* Sidebar déjà stylée plus haut, on complète pour mobile */
.sidebar {
  background:#fff;
  border-right:1px solid #eee;
  padding:24px 16px;
  position: sticky;
  top: 0;
  align-self: start;
  height: 100svh;
  overflow:auto;
  z-index: 20;
}

/* Zone contenu */
.content { min-width: 0; }

/* Footer */
.site-footer {
  border-top:1px solid #eee;
  background:#fff;
  padding:18px 0;
  margin-top: 24px;
}

/* Mobile: la sidebar passe en barre haute scrollable horizontalement */
/* Barre haute en tablette/mobile : la sidebar occupe la 1re rangée, le contenu la 2e */
@media (max-width:1024px){
  .shell { grid-template-columns:1fr; grid-template-rows:0 1fr; }
  .sidebar{
    grid-column:1 / -1; grid-row:1; position:static; height:0;
    padding:0; border:0; background:transparent; overflow:visible;
  }
  .content{ grid-row:2; padding-bottom: var(--bottombar-h); }

  /* on masque tout le contenu interne de l’aside en mobile/tablette */
  .sidebar :global(.wrap),
  .sidebar :global(.nav),
  .sidebar :global(.sep){ display:none !important; }
}

/* Mobile : menu extensible au-dessus du hero */
@media (max-width: 640px){
  // .sidebar {
    /* le conteneur peut s’agrandir quand le menu est ouvert */
  // }
  /* Par défaut, menu replié */
  .sidebar :global(.nav){
    display:none;
    flex-direction: column;
    gap:8px;
    overflow:visible;
  }
  /* Quand data-open="true" sur la sidebar, on déploie le menu */
  .sidebar[data-open="true"] :global(.nav){ display:flex; }
}

/* Hero : ne jamais être masqué par la barre haute collante */
.hero { 
  background: linear-gradient(180deg, var(--green-700), var(--green-900));
  color:#fff; padding:64px 0 90px;
  scroll-margin-top: var(--topbar-h); /* ancrages sûrs en mobile/tablette */
}
.hero .title h1{ color:#fff; }
.hero .title .subtitle{ color:rgba(255,255,255,.9); }

/* Hero Contact : titres/icon en blanc garanti */
.hero .title h1{ color:#fff; }
.hero .title .subtitle{ color:rgba(255,255,255,.9); }

/* Icône <img> en blanc fallback (si vous gardez des <img>) */
.img-white{ filter: invert(1) brightness(1.6); }


